{% extends "base.html" %}

{% block head %}
<script>
    const searchForOperation = () => {
        const searchInputValue = document.getElementById("operation_search").value;
        window.location.href = `/pages/events/${searchInputValue}`;
    }
</script>
{% endblock %}

{% block content %}
<div>
    <div class="flex justify-center items-center mb-10">
        <div class="border-2 border-yellow-400 rounded-3xl w-1/3 text-lg px-3 py-1 mr-2">
            <input id="operation_search" size="34" type="text" value="{{ location }}"
                   placeholder="–í–≤–µ–¥–∏—Ç–µ –º–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π">
        </div>
        <button onclick="searchForOperation()"
                class="text-xl bg-yellow-400 px-3 py-1 rounded-3xl">–ù–∞–π—Ç–∏</button>
    </div>
    {% if events %}
        <div class="flex flex-col items-center">
            {% for event in events %}
                <div class="flex shadow-md mb-5 w-1/2 pr-4 items-center justify-between">
                    <img src="{{ url_for('static', path='images/events/' + event.id|string + '.webp') }}" alt="Event" width="300">
                    <div class="flex flex-col items-center w-1/2">
                        <div class="flex">
                            <div class="px-4 py-3 mr-10">
                                <div class="pl-1 font-bold">{{ event.title }}</div>
                                <hr class="my-2">
                                <div class="mb-2">üìç{{ event.location }}</div>
                            </div>
                            <div class="flex-col items-center p-3">
                                <div class="font-bold">–¶–µ–Ω–∞</div>
                                <div class="font-bold text-2xl">{{ event.price }}‚ÇΩ</div>
                            </div>
                        </div>
                        <div><a href="{{ url_for('get_event_page', event_id=event.id) }}" class="text-xl bg-yellow-400 px-3 py-1 rounded-3xl">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ</a></div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
